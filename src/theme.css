/* Theme System - CSS Variables */

/* ============================================
   COLOR PALETTE (Base Colors)
   ============================================ */

:root {
  /* Light Theme (Default) - Palette correcte */
  --color-1: #5f7470;
  --color-2: #889696;
  --color-3: #b8bdb5;
  --color-4: #d2d4c8;
  --color-5: #e0e2db;

  /* Extra colors - Customizable black & white */
  --color-black: #494949;
  --color-white: #ffffff;

  /* Semantic Background Colors */
  --bg-primary: var(--color-2);        /* Main background */
  --bg-secondary: var(--color-5);      /* Secondary surfaces */
  --bg-card: #ffffff;                  /* Cards, panels */
  --bg-hover: var(--color-3);          /* Hover state */
  --bg-overlay-light: rgba(255, 255, 255, 0.1);
  --bg-overlay-medium: rgba(255, 255, 255, 0.7);
  --bg-overlay-dark: rgba(0, 0, 0, 0.2);

  /* Semantic Text Colors */
  --text-primary: var(--color-black);             /* Main text */
  --text-secondary: color-mix(in srgb, var(--color-black) 60%, transparent);          /* Secondary text */
  --text-muted: color-mix(in srgb, var(--color-2) 60%, transparent);       /* Muted/disabled text */
  --text-inverse: var(--color-white);  

  /* Semantic Border Colors */
  --border-primary: var(--color-4);
  --border-secondary: var(--color-3);
  --border-light: rgba(255, 255, 255, 0.2);
  --border-subtle: #e5e7eb;

  /* Accent Colors (from palette) */
  --accent-primary: var(--color-4);
  --accent-secondary: var(--color-5);
  --accent-hover: var(--color-3);

  /* Status Colors */
  --status-success-bg: #dcfce7;
  --status-success-text: #166534;
  --status-success-border: #86efac;

  --status-error-bg: #fee2e2;
  --status-error-text: #991b1b;
  --status-error-border: #fca5a5;

  --status-warning-bg: #fef3c7;
  --status-warning-text: #92400e;
  --status-warning-border: #fcd34d;

  --status-info-bg: #dbeafe;
  --status-info-text: #1e40af;
  --status-info-border: #93c5fd;

  /* Interactive Elements */
  --button-primary-bg: var(--color-4);
  --button-primary-hover:var(--color-3);
  --button-primary-text: var(--text-inverse);

  --button-secondary-bg: var(--bg-card);
  --button-secondary-hover: var(--bg-hover);
  --button-secondary-text: var(--text-primary);
  --button-secondary-border: var(--border-primary);

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);

  /* Focus Ring */
  --focus-ring: 0 0 0 1px var(--color-5);
}

/* ============================================
   DARK THEME
   ============================================ */

[data-theme="dark"] {
  /* Dark Theme - Palette correcte (UNIQUEMENT les 5 couleurs) */
  --color-1: #87818b;  /* darkest */
  --color-2: #a09a9f;  /* darker */
  --color-3: #b9b3b2;  /* medium */
  --color-4: #d3cdc6;  /* lighter */
  --color-5: #eee7da;  /* lightest */

  /* Extra colors - Customizable black & white */
  --color-black: #494949;
  --color-white: #ffffff;

  /* Semantic Background Colors - utiliser les couleurs sombres */
  --bg-primary: var(--color-1);        /* Darkest pour fond principal */
  --bg-secondary: var(--color-2);      /* Darker pour surfaces secondaires */
  --bg-card: #ffffff;           /* Medium pour hover */
  --bg-overlay-light: rgba(135, 129, 139, 0.1);   /* color-1 avec alpha */
  --bg-overlay-medium: rgba(135, 129, 139, 0.3);  /* color-1 avec alpha */
  --bg-overlay-dark: rgba(135, 129, 139, 0.6);    /* color-1 avec alpha */

  /* Semantic Text Colors - utiliser les couleurs claires pour contraste */
  --text-primary: var(--color-black);             /* Main text */
  --text-secondary: color-mix(in srgb, var(--color-black) 60%, transparent);          /* Secondary text */
  --text-muted: color-mix(in srgb, var(--color-3) 60%, transparent);    /* Muted/disabled text */
  --text-inverse: var(--color-white);             /* Text on dark backgrounds */

  /* Semantic Border Colors */
  --border-primary: var(--color-3);    /* Medium */
  --border-secondary: var(--color-2);  /* Darker */
  --border-light: var(--color-3);      /* Medium */
  --border-subtle: var(--color-2);     /* Darker */

  /* Accent Colors */
  --accent-primary: var(--color-4);    /* Lighter pour visibilit√© */
  --accent-secondary: var(--color-5);  /* Lightest */
  --accent-hover: var(--color-3);      /* Medium */

  /* Status Colors (adjusted for dark) */
  --status-success-bg: #dcfce7;
  --status-success-text: #166534;
  --status-success-border: #86efac;

  --status-error-bg: rgba(239, 68, 68, 0.15);
  --status-error-text: #fca5a5;
  --status-error-border: rgba(252, 165, 165, 0.3);

  --status-warning-bg: rgba(245, 158, 11, 0.15);
  --status-warning-text: #fcd34d;
  --status-warning-border: rgba(252, 211, 77, 0.3);

  --status-info-bg: #dbeafe;
  --status-info-text: #1e40af;
  --status-info-border: #93c5fd;

  /* Interactive Elements */
  --button-primary-bg: var(--color-4);
  --button-primary-hover:var(--color-3);
  --button-primary-text: var(--color-1);  /* Dark text sur bouton clair */

  --button-secondary-bg: var(--bg-card);
  --button-secondary-hover: var(--bg-hover);
  --button-secondary-text: var(--text-primary);
  --button-secondary-border: var(--border-primary);

  /* Shadows (enhanced for dark) */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);

  /* Focus Ring */
  --focus-ring: 0 0 0 1px var(--color-3);
}

/* ============================================
   TEST LIST ITEM STYLES
   ============================================ */

.test-list-item {
  background-color: var(--bg-card);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-sm);
}

.test-list-item:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

.test-list-thumbnail {
  background: linear-gradient(to bottom right, var(--accent-secondary), var(--bg-secondary));
}

.test-list-badge {
  background-color: var(--bg-overlay-dark);
  color: var(--text-inverse);
}

.test-list-title {
  color: var(--text-primary);
}

.test-list-date {
  color: var(--text-secondary);
}

.test-list-id {
  color: var(--text-muted);
}

.test-stat-nodes {
  background-color: var(--bg-hover);
  color: var(--text-secondary);
}

.test-stat-sections {
  background-color: var(--accent-secondary);
  color: var(--accent-primary);
}

.test-stat-images {
  background-color: var(--status-info-bg);
  color: var(--status-info-text);
}

.test-stat-fixes {
  background-color: var(--status-warning-bg);
  color: var(--status-warning-text);
}

.test-action-btn {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

.test-action-btn:hover {
  background-color: var(--accent-secondary);
  color: var(--accent-primary);
}

.test-delete-btn:hover:not(:disabled) {
  background-color: var(--status-error-text);
}

.test-delete-btn:hover:not(:disabled) svg {
  color: var(--text-inverse);
}

.test-primary-btn {
  background: var(--button-primary-bg);
  color: var(--button-primary-text);
  box-shadow: var(--shadow-sm);
}

.test-primary-btn:hover {
  background: var(--button-primary-hover);
}

/* ============================================
   SMOOTH TRANSITIONS
   ============================================ */

* {
  transition:
    background-color 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease,
    box-shadow 0.2s ease;
}
